import{_ as k}from"./index-Cqb7IHIv.js";import{b as v,c as B,y as I,L as C,o as r,e as c,f as a,x as S,F as b,l as x,E as T,u as _,q as w,m as M,t as E,j as R,k as V}from"./chunks/@vue-ClYERPLE.js";const W=s=>(R("data-v-11978dcb"),s=s(),V(),s),$={class:"Content"},z={key:0,class:"Directory"},D={class:"Box"},F=W(()=>a("div",{class:"Title"},"目录",-1)),L=["onClick"],N={__name:"MainWrap",props:{list:Array},setup(s){const i=s,o=v("Button-Type"),h=B(()=>{const e={top:0};return o.value&&i.list.findIndex(t=>t.id===o.value)!==-1&&(e.top=`${i.list.findIndex(t=>t.id===o.value)*28}px`),e}),y=e=>{if(!e.id||e.id===o.value)return;o.value=e.id;const t=document.getElementById(e.id);t&&t.scrollIntoView({behavior:"smooth"})};let d=null;const g=e=>{var t;(t=i.list)!=null&&t.length&&(d&&clearTimeout(d),d=setTimeout(()=>{const{top:l,bottom:u}=n.value.getBoundingClientRect();i.list.some(p=>{const m=document.getElementById(p.id);if(m){const{top:f}=m.getBoundingClientRect();if(f>=l&&f<u)return o.value=p.id,!0}return!1})},300))},n=v();return I(()=>{n.value&&(n.value.onscroll=g)}),C(()=>{n.value&&(n.value.onscroll=null)}),(e,t)=>(r(),c("div",{class:"MainWrap",ref_key:"wrapRef",ref:n},[a("div",$,[S(e.$slots,"default",{},void 0,!0)]),s.list&&s.list.length?(r(),c("div",z,[a("div",D,[F,a("ul",null,[(r(!0),c(b,null,x(s.list,l=>(r(),c("li",{class:M(l.id===_(o)?"is-active":""),onClick:u=>y(l)},E(l.label),11,L))),256)),a("div",{class:"Mark",style:T(_(h))},null,4)])])])):w("",!0)],512))}},A=k(N,[["__scopeId","data-v-11978dcb"]]);export{A as M};
